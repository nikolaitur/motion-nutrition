var mtkGetParams=function(b){var c={};b=(b?b:window.location.search.substring(1)).split("&");for(var d=0;d<b.length;d++){var a=b[d].split("=");"undefined"===typeof c[a[0]]?c[a[0]]=a[1]:"string"===typeof c[a[0]]?c[a[0]]=[c[a[0]],a[1]]:c[a[0]].push(a[1])}return c},mtkCookie=function(b,c,d){if(2>arguments.length){for(var a=document.cookie.split(";"),e=0;e<a.length;e++){var f=a[e].replace(/^\s+/,"");if(0==f.indexOf(b+"="))return decodeURIComponent(f.substring(b.length+1).split("+").join(" "))}return null}a=
new Date;a.setTime(a.getTime()+d);document.cookie=b+"="+encodeURIComponent(c)+(d?";expires="+a.toGMTString():"")+";path=/"};const mtkKeys="mtke utm_campaign utm_source utm_medium utm_term utm_content utm_id".split(" ");var mtkCartAttributes={};mtkKeys.forEach(function(b){var c="mtk_"+b,d="_metorik_"+b;!mtkCookie(c)&&b in mtkGetParams()&&(mtkCartAttributes[d]=mtkGetParams()[b],mtkCookie(c,!0,432E5))});
!mtkCookie("mtk_referer")&&document.referrer&&0!==document.referrer.indexOf(location.protocol+"//"+location.host)&&(mtkCartAttributes._metorik_referer=document.referrer,mtkCookie("mtk_referer",!0,864E5));if(Object.keys(mtkCartAttributes).length){var xhr=new XMLHttpRequest;xhr.open("POST","/cart/update.json",!0);xhr.setRequestHeader("Content-Type","application/json");xhr.send(JSON.stringify({attributes:mtkCartAttributes}))};
